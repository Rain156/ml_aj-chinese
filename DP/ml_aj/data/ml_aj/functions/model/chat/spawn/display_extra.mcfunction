## function ml_aj:model/chat/display
## player context
## "id": The model's UUID string
## "name": The save name
## "suggest": The build command
## "despawn": The despawn type

function ml_aj:system/player/chat_clear

$tellraw @s [{"text":"","color":"#C29C54"},{"text":"---------------- 保存与生成 ---------------\n\n"},{"text":" 保存名称: ","hoverEvent":{"action":"show_text","contents":"保存此模型用于生成的名称"}},{"text":"$(name)","color":"yellow","hoverEvent":{"action":"show_text","contents":"单击以更改此模型用于生成的名称\n(设置命令会出现在聊天栏里,只需编辑引号之间的值,然后按下回车即可)"},"clickEvent":{"action":"suggest_command","value":"/function ml_aj:edit/save {name:\"$(name)\"}"}},{"text":"\n\n"},{"text":" [保存] ","color":"dark_green","hoverEvent":{"action":"show_text","contents":"单击以保存模型生成数据"},"clickEvent":{"action":"run_command","value":"/function ml_aj:model/chat/spawn/save {id:\"$(id)\",name:\"$(name)\"}"}},{"storage":"ml_aj:logic","nbt":"data.player.temp.edited","interpret":true},{"text":"\n\n"},{"text":" 清除动作: ","hoverEvent":{"action":"show_text","contents":"当玩家不在此模型范围内,将要采取的行动.\nN/A = 无清除动作\nDisable = 当玩家超出范围时禁用模型\nDelete = 当玩家超出范围时删除模型(会播放despawn动画 | 如果有)"}},{"text":" [$(despawn)] ","color":"aqua","hoverEvent":{"action":"show_text","contents":"单击切换"},"clickEvent":{"action":"run_command","value":"/function ml_aj:model/chat/spawn/edit_despawn {id:\"$(id)\",despawn:\"$(despawn)\"}"}},{"storage":"ml_aj:logic","nbt":"data.player.temp.despawn_text","interpret":true}]

$execute if data storage ml_aj:logic data.spawn.models[{name:"$(name)"}] run tellraw @s {"text":"\n---------------- 生成方法 ----------------\n","color":"#C29C54"}
$execute if data storage ml_aj:logic data.spawn.models[{name:"$(name)"}] run tellraw @s [{"text":"","color":"#C29C54"},{"text":" [生成命令] ","color":"light_purple","hoverEvent":{"action":"show_text","contents":"单击获取生成此模型的命令\n(如模型有更改请先点击保存)"},"clickEvent":{"action":"suggest_command","value":"/function ml_aj:spawn {name:\"$(name)\"}"}},{"text":"  |  "},{"text":" [半径命令] ","color":"#ca8ff0","hoverEvent":{"action":"show_text","contents":"单击以获取在目标周围随机距离生成此模型的命令\n(如模型有更改请先点击保存)"},"clickEvent":{"action":"suggest_command","value":"/execute positioned ~ ~ ~ run function ml_aj:spawn_radius {radius:5,name:\"$(name)\"}"}},{"text":"  |  "},{"text":" [获取生成物品] ","color":"dark_purple","hoverEvent":{"action":"show_text","contents":"单击以获取生成此模型的物品\n(如模型有更改请先点击保存)"},"clickEvent":{"action":"run_command","value":"/function ml_aj:model/chat/spawn/item {id:\"$(id)\",name:\"$(name)\"}"}}]

$tellraw @s [{"text":"","color":"#C29C54"},{"text":"\n---------------------------------------\n\n"},{"text":" [Datapack Command] ","color":"dark_aqua","hoverEvent":{"action":"show_text","contents":"单击以复制生成此模型的完整命令.\n\n这在使用ml_aj作为前置库来创建自定义生物数据包时非常有用.\n并且您只需使用此命令来生成模型,而无需设置任何storage数据.\n\n命令中的radius值是生成模型时距离目标位置最大的随机距离."},"clickEvent":{"action":"copy_to_clipboard","value":"/function ml_aj:model/spawn/build {radius:0,data:$(suggest)}"}},{"text":"  |  "},{"text":" [返回] ","color":"#DD743B","hoverEvent":{"action":"show_text","contents":"返回至AJ模型编辑菜单"},"clickEvent":{"action":"run_command","value":"/function ml_aj:model/chat/display {id:\"$(id)\"}"}},{"text":"\n"}]
